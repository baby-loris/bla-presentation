### [1] Титульный

### [2] Но это не blah-blah-blah
  1. bla — это не бла-бла, это другое бла.

### [3] Как мы работаем с данными
  1. Для небольших сайтов (времена, когда мы были php-разработчиками):
    * Браузер обменивается данными с сервером.
    * Сервер ходит сам в базу и отдает данные.
  2. В Яндексе (enterprise):
    * Браузер ходит во Frontend (nodejs).
    * Frontend ходит в Backend (C++/Python/etc.).

Иногда нам нужны одни и те же данные и на сервере, и на клиенте.

### [4] Но тут есть проблемы
  1. Шлется много запросов из браузера во фронтенд.
    * Запросы увеличивают нагрузку.
    * На мобильных каждый запрос — дорогой.
    * AНБ и всякие независимые виджеты могут генерировать много запросов.
  2. По-разному делаем запросы из браузера (jquery) и на бекэнд (http.request, asker, superagent, and etc).
    * Нет абстракции от источника данных (сегодня мы читаем из файлика, завтра — получаем данные из бекэнда).

### [5] Что хотелось бы
  1. Магическим образом склеивать запросы в один и из браузера слать один запрос (в идеале).
  2. Использовать одну и ту же обертку для обращения за данными, как в браузере, так и на сервере.

### [6] BLA
  1. BLA героически решает озвученные проблемы.

### [7] Почему bla?
  1. Это не из-за того, что у нас нет фантазии.
  2. Так исторически сложилось.
  3. Пример luabla.

### [8] Старые карты
  1. Старые карты на maps.yandex.ru.
  2. Доживают последние деньки.

### [9] Новые карты
  1. Новые островные карты.
  2. Для нового проекта добавили кодовое имя — Loris.
  3. Как проект назовешь, так он и полетит/поползет.

### [10] Почему выбрали Loris?
  1. Они — милые :)

### [11] baby-loris
  1. Серверная часть + структура проекта у новых карт — хороша.
  2. Выделили в отдельный проект (для использования в новых проектах).
  3. Это наш project-stub.
  4. Маленький проект —> маленький loris -> baby-loris.

### [12] baby-loris-api
  1. Создали технологию api для enb. В ней делали описание ручек.
  2. Не каждому проекту нужны "ручки".
  3. Переобдумали технологию api и выделили его в отдельный пакет — baby-loris-api.
  4. baby-loris-api -> bla.

### [13] BLA
  1. Получили bla.

### [14] Проблематика.
  1. Вернемся к проблемам и решениям.
  2. Много запросов из браузера -> Собирать запрос в один (batch).
  3. Разные способы обращения за данными -> Создаем унифицированный интерфейс.

### [15] batch-режим
  1. Есть функция, через которую получаете данные (внутри, например, $.ajax).
  2. Вызвали функцию, она послала запрос.
  3. Если использовать batch, то запрос не шлется сразу, а ждет следующего тика.
  4. За этот тик другие блоки/модули могут тоже запросить данные.
  5. В итоге все запросы склеиваются в один.

  ** нужна диаграмма **

### [16] До batch-режима
  1. Много запросов.

### [17] После batch-режима
  1. Мало запросов :)

### [18] Унифицированный интерфейс
  1. На сервере обращаемся следующим образом: вызываем функцию и получаем в ответ промис.
  2. А на клиенте.... Внимание! (показывается вторая часть слайда)
  3. Глаза вас не подводят — тоже самое :)

### [19] Есть еще несколько бонусов

### [20] Декларативность
  1. Декларативность используется в Яндексе повсеместно: xslt, i-bem, bemhtml, bh, bt.
  2. Методы объявляются декларативно.
  3. Задается имя, описание, параметры и функция, выполняемая при вызове метода.

### [21] Валидация параметров
  1. Поддерживается валидация обязательных параметров (пока).
  2. Приведение типов (очень простое).

** непонятно про приведение типов **

### [22] Автодокументация
  1. Зачем задавать имя/описание метода и параметров?
  2. Страничка документация отключаема.

### [23] Метро

### [24] Карточный планировщик

### [25] weatherpic
  1. Демо-проект для bla.
  2. Определяет местоположение -> узнает погоду в заданной точке -> генерирует набор тегов по данным погоды -> идет во фликр за фотками

### [26] weatherpic live

### [27] Как забрать себе?
  1.`npm i bla` — 9 символов отделяют вас от того, чтобы попробовать библиотеку.
  2. Предложения/пожелания/pr — в issues на github.
  3. Opensource.
  4. Рассказать про "хакинг" bla и про то, как стали владельцами bla.

### [28] Ура! Конец!
